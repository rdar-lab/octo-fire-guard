<div class="octo-fire-guard-settings">
    <h3>{{ _('Octo Fire Guard Settings') }}</h3>
    
    <div class="octo-fire-guard-settings-section">
        <h4>{{ _('Monitoring Settings') }}</h4>
        
        <div class="control-group">
            <label class="checkbox">
                <input type="checkbox" data-bind="checked: settings.plugins.octo_fire_guard.enable_monitoring">
                {{ _('Enable temperature monitoring') }}
            </label>
            <span class="help-block octo-fire-guard-settings-help">
                {{ _('When enabled, the plugin will monitor temperatures and trigger alerts when thresholds are exceeded.') }}
            </span>
        </div>
    </div>

    <div class="octo-fire-guard-settings-section">
        <h4>{{ _('Temperature Thresholds') }}</h4>
        
        <div class="control-group">
            <label class="control-label">{{ _('Hotend Threshold (째C)') }}</label>
            <div class="controls">
                <input type="number" class="input-block-level" 
                       data-bind="value: settings.plugins.octo_fire_guard.hotend_threshold"
                       min="0" max="500" step="1">
                <span class="help-block octo-fire-guard-settings-help">
                    {{ _('Maximum safe temperature for the hotend. Alert will trigger if exceeded. Default: 250째C') }}
                </span>
            </div>
        </div>
        
        <div class="control-group">
            <label class="control-label">{{ _('Heatbed Threshold (째C)') }}</label>
            <div class="controls">
                <input type="number" class="input-block-level" 
                       data-bind="value: settings.plugins.octo_fire_guard.heatbed_threshold"
                       min="0" max="200" step="1">
                <span class="help-block octo-fire-guard-settings-help">
                    {{ _('Maximum safe temperature for the heatbed. Alert will trigger if exceeded. Default: 100째C') }}
                </span>
            </div>
        </div>
    </div>

    <div class="octo-fire-guard-settings-section">
        <h4>{{ _('Termination Settings') }}</h4>
        
        <div class="control-group">
            <label class="control-label">{{ _('Termination Mode') }}</label>
            <div class="controls">
                <select class="input-block-level" data-bind="value: settings.plugins.octo_fire_guard.termination_mode">
                    <option value="gcode">{{ _('GCode Commands') }}</option>
                    <option value="psu">{{ _('PSU Control (Power Off)') }}</option>
                </select>
                <span class="help-block octo-fire-guard-settings-help">
                    {{ _('Choose how to respond when temperature threshold is exceeded.') }}
                </span>
            </div>
        </div>
        
        <div class="control-group" data-bind="visible: settings.plugins.octo_fire_guard.termination_mode() === 'gcode'">
            <label class="control-label">{{ _('Termination GCode') }}</label>
            <div class="controls">
                <textarea class="input-block-level" rows="5"
                          data-bind="value: settings.plugins.octo_fire_guard.termination_gcode"></textarea>
                <span class="help-block octo-fire-guard-settings-help">
                    {{ _('GCode commands to execute on emergency shutdown. One command per line. Default includes M112 (emergency stop) and commands to turn off heaters.') }}
                </span>
            </div>
        </div>
        
        <div class="control-group" data-bind="visible: settings.plugins.octo_fire_guard.termination_mode() === 'psu'">
            <label class="control-label">{{ _('PSU Plugin Name') }}</label>
            <div class="controls">
                <input type="text" class="input-block-level" 
                       data-bind="value: settings.plugins.octo_fire_guard.psu_plugin_name">
                <span class="help-block octo-fire-guard-settings-help">
                    {{ _('Name of the PSU Control plugin (usually "psucontrol"). The plugin will attempt to turn off power through this plugin.') }}
                </span>
            </div>
        </div>
    </div>

    <div class="octo-fire-guard-settings-section">
        <h4>{{ _('Testing') }}</h4>
        <button class="btn btn-warning" id="octo-fire-guard-test-alert-btn">
            <i class="fa fa-exclamation-triangle"></i> {{ _('Test Alert System') }}
        </button>
        <span class="help-block octo-fire-guard-settings-help">
            {{ _('Click to test the alert popup without triggering an actual emergency.') }}
        </span>
        
        <br><br>
        
        <button class="btn btn-danger" id="octo-fire-guard-test-emergency-btn">
            <i class="fa fa-bolt"></i> {{ _('Test Emergency Actions') }}
        </button>
        <span class="help-block octo-fire-guard-settings-help">
            {{ _('Click to test the emergency actions (GCode commands or PSU control). This will actually execute the configured termination commands!') }}
        </span>
    </div>
</div>
